{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}},{"name":"./ImageManipulator.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":116},"end":{"line":4,"column":88,"index":204}}],"key":"T6y/NYMlBGi0asFDc4kC629pCOk=","exportNames":["*"]}},{"name":"./NativeImageManipulatorModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":274},"end":{"line":6,"column":66,"index":340}}],"key":"8Y+B1GFyVeLfCjgVr/eyqjz4W8I=","exportNames":["*"]}},{"name":"./validators","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":341},"end":{"line":7,"column":49,"index":390}}],"key":"1gp1aMKVyl2/9IK6VJGjIeJ+hoU=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  Object.defineProperty(exports, \"ImageManipulator\", {\n    enumerable: true,\n    get: function () {\n      return _NativeImageManipulatorModule.default;\n    }\n  });\n  exports.manipulateAsync = manipulateAsync;\n  exports.useImageManipulator = useImageManipulator;\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _ImageManipulator = require(_dependencyMap[2], \"./ImageManipulator.types\");\n  var _NativeImageManipulatorModule = _interopRequireDefault(require(_dependencyMap[3], \"./NativeImageManipulatorModule\"));\n  var _validators = require(_dependencyMap[4], \"./validators\");\n  // @needsAudit\n  /**\n   * Manipulate the image provided via `uri`. Available modifications are rotating, flipping (mirroring),\n   * resizing and cropping. Each invocation results in a new file. With one invocation you can provide\n   * a set of actions to perform over the image. Overwriting the source file would not have an effect\n   * in displaying the result as images are cached.\n   * @param uri URI of the file to manipulate. Should be on the local file system or a base64 data URI.\n   * @param actions An array of objects representing manipulation options. Each object should have\n   * __only one__ of the keys that corresponds to specific transformation.\n   * @param saveOptions A map defining how modified image should be saved.\n   * @return Promise which fulfils with [`ImageResult`](#imageresult) object.\n   * @deprecated It has been replaced by the new, contextual and object-oriented API.\n   * Use [`ImageManipulator.manipulate`](#manipulateuri) or [`useImageManipulator`](#useimagemanipulatoruri) instead.\n   */\n  async function manipulateAsync(uri, actions = [], saveOptions = {}) {\n    (0, _validators.validateArguments)(uri, actions, saveOptions);\n    const {\n      format = _ImageManipulator.SaveFormat.JPEG,\n      ...rest\n    } = saveOptions;\n    const context = _NativeImageManipulatorModule.default.manipulate(uri);\n    for (const action of actions) {\n      if ('resize' in action) {\n        context.resize(action.resize);\n      } else if ('rotate' in action) {\n        context.rotate(action.rotate);\n      } else if ('flip' in action) {\n        context.flip(action.flip);\n      } else if ('crop' in action) {\n        context.crop(action.crop);\n      } else if ('extent' in action && context.extent) {\n        context.extent(action.extent);\n      }\n    }\n    const image = await context.renderAsync();\n    const result = await image.saveAsync({\n      format,\n      ...rest\n    });\n\n    // These shared objects will not be used anymore, so free up some memory.\n    context.release();\n    image.release();\n    return result;\n  }\n  function useImageManipulator(source) {\n    return (0, _expoModulesCore.useReleasingSharedObject)(() => _NativeImageManipulatorModule.default.manipulate(source), [source]);\n  }\n});","lineCount":66,"map":[[14,2,1,0],[14,6,1,0,"_expoModulesCore"],[14,22,1,0],[14,25,1,0,"require"],[14,32,1,0],[14,33,1,0,"_dependencyMap"],[14,47,1,0],[15,2,4,0],[15,6,4,0,"_ImageManipulator"],[15,23,4,0],[15,26,4,0,"require"],[15,33,4,0],[15,34,4,0,"_dependencyMap"],[15,48,4,0],[16,2,6,0],[16,6,6,0,"_NativeImageManipulatorModule"],[16,35,6,0],[16,38,6,0,"_interopRequireDefault"],[16,60,6,0],[16,61,6,0,"require"],[16,68,6,0],[16,69,6,0,"_dependencyMap"],[16,83,6,0],[17,2,7,0],[17,6,7,0,"_validators"],[17,17,7,0],[17,20,7,0,"require"],[17,27,7,0],[17,28,7,0,"_dependencyMap"],[17,42,7,0],[18,2,9,0],[19,2,10,0],[20,0,11,0],[21,0,12,0],[22,0,13,0],[23,0,14,0],[24,0,15,0],[25,0,16,0],[26,0,17,0],[27,0,18,0],[28,0,19,0],[29,0,20,0],[30,0,21,0],[31,0,22,0],[32,2,23,7],[32,17,23,22,"manipulateAsync"],[32,32,23,37,"manipulateAsync"],[32,33,24,2,"uri"],[32,36,24,13],[32,38,25,2,"actions"],[32,45,25,19],[32,48,25,22],[32,50,25,24],[32,52,26,2,"saveOptions"],[32,63,26,26],[32,66,26,29],[32,67,26,30],[32,68,26,31],[32,70,27,24],[33,4,28,2],[33,8,28,2,"validateArguments"],[33,37,28,19],[33,39,28,20,"uri"],[33,42,28,23],[33,44,28,25,"actions"],[33,51,28,32],[33,53,28,34,"saveOptions"],[33,64,28,45],[33,65,28,46],[34,4,30,2],[34,10,30,8],[35,6,30,10,"format"],[35,12,30,16],[35,15,30,19,"SaveFormat"],[35,43,30,29],[35,44,30,30,"JPEG"],[35,48,30,34],[36,6,30,36],[36,9,30,39,"rest"],[37,4,30,44],[37,5,30,45],[37,8,30,48,"saveOptions"],[37,19,30,59],[38,4,31,2],[38,10,31,8,"context"],[38,17,31,15],[38,20,31,18,"ExpoImageManipulator"],[38,57,31,38],[38,58,31,39,"manipulate"],[38,68,31,49],[38,69,31,50,"uri"],[38,72,31,53],[38,73,31,54],[39,4,33,2],[39,9,33,7],[39,15,33,13,"action"],[39,21,33,19],[39,25,33,23,"actions"],[39,32,33,30],[39,34,33,32],[40,6,34,4],[40,10,34,8],[40,18,34,16],[40,22,34,20,"action"],[40,28,34,26],[40,30,34,28],[41,8,35,6,"context"],[41,15,35,13],[41,16,35,14,"resize"],[41,22,35,20],[41,23,35,21,"action"],[41,29,35,27],[41,30,35,28,"resize"],[41,36,35,34],[41,37,35,35],[42,6,36,4],[42,7,36,5],[42,13,36,11],[42,17,36,15],[42,25,36,23],[42,29,36,27,"action"],[42,35,36,33],[42,37,36,35],[43,8,37,6,"context"],[43,15,37,13],[43,16,37,14,"rotate"],[43,22,37,20],[43,23,37,21,"action"],[43,29,37,27],[43,30,37,28,"rotate"],[43,36,37,34],[43,37,37,35],[44,6,38,4],[44,7,38,5],[44,13,38,11],[44,17,38,15],[44,23,38,21],[44,27,38,25,"action"],[44,33,38,31],[44,35,38,33],[45,8,39,6,"context"],[45,15,39,13],[45,16,39,14,"flip"],[45,20,39,18],[45,21,39,19,"action"],[45,27,39,25],[45,28,39,26,"flip"],[45,32,39,30],[45,33,39,31],[46,6,40,4],[46,7,40,5],[46,13,40,11],[46,17,40,15],[46,23,40,21],[46,27,40,25,"action"],[46,33,40,31],[46,35,40,33],[47,8,41,6,"context"],[47,15,41,13],[47,16,41,14,"crop"],[47,20,41,18],[47,21,41,19,"action"],[47,27,41,25],[47,28,41,26,"crop"],[47,32,41,30],[47,33,41,31],[48,6,42,4],[48,7,42,5],[48,13,42,11],[48,17,42,15],[48,25,42,23],[48,29,42,27,"action"],[48,35,42,33],[48,39,42,37,"context"],[48,46,42,44],[48,47,42,45,"extent"],[48,53,42,51],[48,55,42,53],[49,8,43,6,"context"],[49,15,43,13],[49,16,43,14,"extent"],[49,22,43,20],[49,23,43,21,"action"],[49,29,43,27],[49,30,43,28,"extent"],[49,36,43,34],[49,37,43,35],[50,6,44,4],[51,4,45,2],[52,4,46,2],[52,10,46,8,"image"],[52,15,46,13],[52,18,46,16],[52,24,46,22,"context"],[52,31,46,29],[52,32,46,30,"renderAsync"],[52,43,46,41],[52,44,46,42],[52,45,46,43],[53,4,47,2],[53,10,47,8,"result"],[53,16,47,14],[53,19,47,17],[53,25,47,23,"image"],[53,30,47,28],[53,31,47,29,"saveAsync"],[53,40,47,38],[53,41,47,39],[54,6,47,41,"format"],[54,12,47,47],[55,6,47,49],[55,9,47,52,"rest"],[56,4,47,57],[56,5,47,58],[56,6,47,59],[58,4,49,2],[59,4,50,2,"context"],[59,11,50,9],[59,12,50,10,"release"],[59,19,50,17],[59,20,50,18],[59,21,50,19],[60,4,51,2,"image"],[60,9,51,7],[60,10,51,8,"release"],[60,17,51,15],[60,18,51,16],[60,19,51,17],[61,4,53,2],[61,11,53,9,"result"],[61,17,53,15],[62,2,54,0],[63,2,56,7],[63,11,56,16,"useImageManipulator"],[63,30,56,35,"useImageManipulator"],[63,31,56,36,"source"],[63,37,56,71],[63,39,56,98],[64,4,57,2],[64,11,57,9],[64,15,57,9,"useReleasingSharedObject"],[64,56,57,33],[64,58,57,34],[64,64,57,40,"ExpoImageManipulator"],[64,101,57,60],[64,102,57,61,"manipulate"],[64,112,57,71],[64,113,57,72,"source"],[64,119,57,78],[64,120,57,79],[64,122,57,81],[64,123,57,82,"source"],[64,129,57,88],[64,130,57,89],[64,131,57,90],[65,2,58,0],[66,0,58,1],[66,3]],"functionMap":{"names":["<global>","manipulateAsync","useImageManipulator","useReleasingSharedObject$argument_0"],"mappings":"AAA;OCsB;CD+B;OEE;kCCC,6CD;CFC"}},"type":"js/module"}]}