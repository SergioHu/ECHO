{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = LiveFaceCanvas;\n  var _react = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _jsxDevRuntime = require(_dependencyMap[1], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"C:\\\\Users\\\\ferre\\\\Desktop\\\\ECHO\\\\apps\\\\mobile\\\\src\\\\components\\\\camera\\\\web\\\\LiveFaceCanvas.tsx\",\n    _s = $RefreshSig$();\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  // Web-only live preview face detection using the built-in FaceDetector API (Chromium)\n  // Falls back to MediaPipe Tasks Vision in non-Chromium browsers.\n  // Draws blurred patches over detected faces on a canvas overlay.\n  function LiveFaceCanvas({\n    containerId,\n    width,\n    height\n  }) {\n    _s();\n    const canvasRef = (0, _react.useRef)(null);\n    const rafRef = (0, _react.useRef)(null);\n    const detectorRef = (0, _react.useRef)(null);\n    const mpRef = (0, _react.useRef)(null);\n    const isMediapipeRef = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      const container = document.getElementById(containerId);\n      if (!container) return;\n      const video = container.querySelector('video');\n      if (!video) return;\n\n      // Resize canvas\n      const canvas = canvasRef.current;\n      if (!canvas) return;\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      let running = true;\n      const loadScript = src => new Promise((resolve, reject) => {\n        const s = document.createElement('script');\n        s.src = src;\n        s.async = true;\n        s.onload = () => resolve();\n        s.onerror = () => reject(new Error('script load failed'));\n        document.head.appendChild(s);\n      });\n      const initDetector = async () => {\n        try {\n          // Prefer built-in FaceDetector (fast, Chromium)\n          // @ts-ignore\n          if ('FaceDetector' in window) {\n            // @ts-ignore\n            detectorRef.current = new window.FaceDetector({\n              fastMode: true,\n              maxDetectedFaces: 10\n            });\n            isMediapipeRef.current = false;\n            return;\n          }\n          // Fallback: MediaPipe Tasks Vision\n          await loadScript('https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.3/vision_bundle.js');\n          // @ts-ignore\n          const tv = window;\n          if (tv && tv.FilesetResolver && tv.FaceDetector) {\n            // @ts-ignore\n            const vision = await tv.FilesetResolver.forVisionTasks('https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.3/wasm');\n            // @ts-ignore\n            detectorRef.current = await tv.FaceDetector.createFromOptions(vision, {\n              baseOptions: {\n                // Public model asset via CDN\n                modelAssetPath: 'https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.3/wasm/face_detection_short_range.tflite'\n              },\n              runningMode: 'VIDEO'\n            });\n            mpRef.current = tv;\n            isMediapipeRef.current = true;\n            console.log('[LiveFaceCanvas] MediaPipe detector initialized');\n          } else {\n            console.warn('[LiveFaceCanvas] MediaPipe not available. Preview masks disabled.');\n          }\n        } catch (e) {\n          console.warn('[LiveFaceCanvas] Detector init failed:', e);\n        }\n      };\n      const expandBox = box => {\n        const cx = box.x + box.width / 2;\n        const cy = box.y + box.height / 2;\n        const w = box.width * 1.35;\n        const h = box.height * 1.5;\n        return {\n          x: cx - w / 2,\n          y: cy - h / 2,\n          width: w,\n          height: h\n        };\n      };\n      const loop = async () => {\n        if (!running) return;\n        rafRef.current = requestAnimationFrame(loop);\n        if (!detectorRef.current) return;\n        try {\n          let faces = [];\n          if (isMediapipeRef.current) {\n            // @ts-ignore\n            const res = await detectorRef.current.detectForVideo(video, performance.now());\n            faces = (res?.detections || []).map(d => {\n              const box = d.boundingBox || d.box || d; // normalize\n              return {\n                boundingBox: {\n                  x: box.originX ?? box.x ?? 0,\n                  y: box.originY ?? box.y ?? 0,\n                  width: box.width ?? box.width ?? 0,\n                  height: box.height ?? box.height ?? 0\n                }\n              };\n            });\n          } else {\n            faces = await detectorRef.current.detect(video);\n          }\n\n          // Clear canvas\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          if (!faces || faces.length === 0) return;\n\n          // Compute scale from video to canvas\n          const videoW = video.videoWidth || width;\n          const videoH = video.videoHeight || height;\n          const scale = Math.max(width / videoW, height / videoH);\n          const scaledW = videoW * scale;\n          const scaledH = videoH * scale;\n          const offsetX = (width - scaledW) / 2;\n          const offsetY = (height - scaledH) / 2;\n          faces.forEach(f => {\n            const b = expandBox(f.boundingBox);\n\n            // Map to canvas coordinates\n            const x = b.x * scale + offsetX;\n            const y = b.y * scale + offsetY;\n            const w = b.width * scale;\n            const h = b.height * scale;\n\n            // Draw blurred oval patch from the video\n            ctx.save();\n            ctx.beginPath();\n            // Elliptical clip\n            ctx.ellipse(x + w / 2, y + h / 2, w / 2, h / 2, 0, 0, Math.PI * 2);\n            ctx.clip();\n            ctx.filter = 'blur(24px)';\n            // Draw from video using same mapping as preview\n            ctx.drawImage(video,\n            // Source rect in video space\n            Math.max(0, b.x), Math.max(0, b.y), Math.min(videoW - b.x, b.width), Math.min(videoH - b.y, b.height),\n            // Destination in canvas\n            x, y, w, h);\n            ctx.restore();\n          });\n        } catch (e) {\n          // Ignore frame errors to keep loop running\n        }\n      };\n      initDetector().then(() => {\n        rafRef.current = requestAnimationFrame(loop);\n      });\n      return () => {\n        running = false;\n        if (rafRef.current) cancelAnimationFrame(rafRef.current);\n      };\n    }, [containerId, width, height]);\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        width,\n        height,\n        pointerEvents: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }, this);\n  }\n  _s(LiveFaceCanvas, \"7k8QpkQNPloTXYmx68+hC68bbjM=\");\n  _c = LiveFaceCanvas;\n  var _c;\n  $RefreshReg$(_c, \"LiveFaceCanvas\");\n});","lineCount":189,"map":[[6,2,1,0],[6,6,1,0,"_react"],[6,12,1,0],[6,15,1,0,"_interopRequireWildcard"],[6,38,1,0],[6,39,1,0,"require"],[6,46,1,0],[6,47,1,0,"_dependencyMap"],[6,61,1,0],[7,2,1,49],[7,6,1,49,"_jsxDevRuntime"],[7,20,1,49],[7,23,1,49,"require"],[7,30,1,49],[7,31,1,49,"_dependencyMap"],[7,45,1,49],[8,2,1,49],[8,6,1,49,"_jsxFileName"],[8,18,1,49],[9,4,1,49,"_s"],[9,6,1,49],[9,9,1,49,"$RefreshSig$"],[9,21,1,49],[10,2,1,49],[10,11,1,49,"_interopRequireWildcard"],[10,35,1,49,"e"],[10,36,1,49],[10,38,1,49,"t"],[10,39,1,49],[10,68,1,49,"WeakMap"],[10,75,1,49],[10,81,1,49,"r"],[10,82,1,49],[10,89,1,49,"WeakMap"],[10,96,1,49],[10,100,1,49,"n"],[10,101,1,49],[10,108,1,49,"WeakMap"],[10,115,1,49],[10,127,1,49,"_interopRequireWildcard"],[10,150,1,49],[10,162,1,49,"_interopRequireWildcard"],[10,163,1,49,"e"],[10,164,1,49],[10,166,1,49,"t"],[10,167,1,49],[10,176,1,49,"t"],[10,177,1,49],[10,181,1,49,"e"],[10,182,1,49],[10,186,1,49,"e"],[10,187,1,49],[10,188,1,49,"__esModule"],[10,198,1,49],[10,207,1,49,"e"],[10,208,1,49],[10,214,1,49,"o"],[10,215,1,49],[10,217,1,49,"i"],[10,218,1,49],[10,220,1,49,"f"],[10,221,1,49],[10,226,1,49,"__proto__"],[10,235,1,49],[10,243,1,49,"default"],[10,250,1,49],[10,252,1,49,"e"],[10,253,1,49],[10,270,1,49,"e"],[10,271,1,49],[10,294,1,49,"e"],[10,295,1,49],[10,320,1,49,"e"],[10,321,1,49],[10,330,1,49,"f"],[10,331,1,49],[10,337,1,49,"o"],[10,338,1,49],[10,341,1,49,"t"],[10,342,1,49],[10,345,1,49,"n"],[10,346,1,49],[10,349,1,49,"r"],[10,350,1,49],[10,358,1,49,"o"],[10,359,1,49],[10,360,1,49,"has"],[10,363,1,49],[10,364,1,49,"e"],[10,365,1,49],[10,375,1,49,"o"],[10,376,1,49],[10,377,1,49,"get"],[10,380,1,49],[10,381,1,49,"e"],[10,382,1,49],[10,385,1,49,"o"],[10,386,1,49],[10,387,1,49,"set"],[10,390,1,49],[10,391,1,49,"e"],[10,392,1,49],[10,394,1,49,"f"],[10,395,1,49],[10,411,1,49,"t"],[10,412,1,49],[10,416,1,49,"e"],[10,417,1,49],[10,433,1,49,"t"],[10,434,1,49],[10,441,1,49,"hasOwnProperty"],[10,455,1,49],[10,456,1,49,"call"],[10,460,1,49],[10,461,1,49,"e"],[10,462,1,49],[10,464,1,49,"t"],[10,465,1,49],[10,472,1,49,"i"],[10,473,1,49],[10,477,1,49,"o"],[10,478,1,49],[10,481,1,49,"Object"],[10,487,1,49],[10,488,1,49,"defineProperty"],[10,502,1,49],[10,507,1,49,"Object"],[10,513,1,49],[10,514,1,49,"getOwnPropertyDescriptor"],[10,538,1,49],[10,539,1,49,"e"],[10,540,1,49],[10,542,1,49,"t"],[10,543,1,49],[10,550,1,49,"i"],[10,551,1,49],[10,552,1,49,"get"],[10,555,1,49],[10,559,1,49,"i"],[10,560,1,49],[10,561,1,49,"set"],[10,564,1,49],[10,568,1,49,"o"],[10,569,1,49],[10,570,1,49,"f"],[10,571,1,49],[10,573,1,49,"t"],[10,574,1,49],[10,576,1,49,"i"],[10,577,1,49],[10,581,1,49,"f"],[10,582,1,49],[10,583,1,49,"t"],[10,584,1,49],[10,588,1,49,"e"],[10,589,1,49],[10,590,1,49,"t"],[10,591,1,49],[10,602,1,49,"f"],[10,603,1,49],[10,608,1,49,"e"],[10,609,1,49],[10,611,1,49,"t"],[10,612,1,49],[11,2,9,0],[12,2,10,0],[13,2,11,0],[14,2,12,15],[14,11,12,24,"LiveFaceCanvas"],[14,25,12,38,"LiveFaceCanvas"],[14,26,12,39],[15,4,12,41,"containerId"],[15,15,12,52],[16,4,12,54,"width"],[16,9,12,59],[17,4,12,61,"height"],[18,2,12,89],[18,3,12,90],[18,5,12,92],[19,4,12,92,"_s"],[19,6,12,92],[20,4,13,2],[20,10,13,8,"canvasRef"],[20,19,13,17],[20,22,13,20],[20,26,13,20,"useRef"],[20,39,13,26],[20,41,13,53],[20,45,13,57],[20,46,13,58],[21,4,14,2],[21,10,14,8,"rafRef"],[21,16,14,14],[21,19,14,17],[21,23,14,17,"useRef"],[21,36,14,23],[21,38,14,39],[21,42,14,43],[21,43,14,44],[22,4,15,2],[22,10,15,8,"detectorRef"],[22,21,15,19],[22,24,15,22],[22,28,15,22,"useRef"],[22,41,15,28],[22,43,15,41],[22,47,15,45],[22,48,15,46],[23,4,16,2],[23,10,16,8,"mpRef"],[23,15,16,13],[23,18,16,16],[23,22,16,16,"useRef"],[23,35,16,22],[23,37,16,35],[23,41,16,39],[23,42,16,40],[24,4,17,2],[24,10,17,8,"isMediapipeRef"],[24,24,17,22],[24,27,17,25],[24,31,17,25,"useRef"],[24,44,17,31],[24,46,17,41],[24,51,17,46],[24,52,17,47],[25,4,19,2],[25,8,19,2,"useEffect"],[25,24,19,11],[25,26,19,12],[25,32,19,18],[26,6,20,4],[26,12,20,10,"container"],[26,21,20,19],[26,24,20,22,"document"],[26,32,20,30],[26,33,20,31,"getElementById"],[26,47,20,45],[26,48,20,46,"containerId"],[26,59,20,57],[26,60,20,58],[27,6,21,4],[27,10,21,8],[27,11,21,9,"container"],[27,20,21,18],[27,22,21,20],[28,6,23,4],[28,12,23,10,"video"],[28,17,23,40],[28,20,23,43,"container"],[28,29,23,52],[28,30,23,53,"querySelector"],[28,43,23,66],[28,44,23,67],[28,51,23,74],[28,52,23,75],[29,6,24,4],[29,10,24,8],[29,11,24,9,"video"],[29,16,24,14],[29,18,24,16],[31,6,26,4],[32,6,27,4],[32,12,27,10,"canvas"],[32,18,27,16],[32,21,27,19,"canvasRef"],[32,30,27,28],[32,31,27,29,"current"],[32,38,27,36],[33,6,28,4],[33,10,28,8],[33,11,28,9,"canvas"],[33,17,28,15],[33,19,28,17],[34,6,29,4,"canvas"],[34,12,29,10],[34,13,29,11,"width"],[34,18,29,16],[34,21,29,19,"width"],[34,26,29,24],[35,6,30,4,"canvas"],[35,12,30,10],[35,13,30,11,"height"],[35,19,30,17],[35,22,30,20,"height"],[35,28,30,26],[36,6,32,4],[36,12,32,10,"ctx"],[36,15,32,13],[36,18,32,16,"canvas"],[36,24,32,22],[36,25,32,23,"getContext"],[36,35,32,33],[36,36,32,34],[36,40,32,38],[36,41,32,39],[37,6,33,4],[37,10,33,8],[37,11,33,9,"ctx"],[37,14,33,12],[37,16,33,14],[38,6,35,4],[38,10,35,8,"running"],[38,17,35,15],[38,20,35,18],[38,24,35,22],[39,6,37,4],[39,12,37,10,"loadScript"],[39,22,37,20],[39,25,37,24,"src"],[39,28,37,35],[39,32,37,40],[39,36,37,44,"Promise"],[39,43,37,51],[39,44,37,58],[39,45,37,59,"resolve"],[39,52,37,66],[39,54,37,68,"reject"],[39,60,37,74],[39,65,37,79],[40,8,38,6],[40,14,38,12,"s"],[40,15,38,13],[40,18,38,16,"document"],[40,26,38,24],[40,27,38,25,"createElement"],[40,40,38,38],[40,41,38,39],[40,49,38,47],[40,50,38,48],[41,8,39,6,"s"],[41,9,39,7],[41,10,39,8,"src"],[41,13,39,11],[41,16,39,14,"src"],[41,19,39,17],[42,8,39,19,"s"],[42,9,39,20],[42,10,39,21,"async"],[42,15,39,26],[42,18,39,29],[42,22,39,33],[43,8,39,35,"s"],[43,9,39,36],[43,10,39,37,"onload"],[43,16,39,43],[43,19,39,46],[43,25,39,52,"resolve"],[43,32,39,59],[43,33,39,60],[43,34,39,61],[44,8,39,63,"s"],[44,9,39,64],[44,10,39,65,"onerror"],[44,17,39,72],[44,20,39,75],[44,26,39,81,"reject"],[44,32,39,87],[44,33,39,88],[44,37,39,92,"Error"],[44,42,39,97],[44,43,39,98],[44,63,39,118],[44,64,39,119],[44,65,39,120],[45,8,40,6,"document"],[45,16,40,14],[45,17,40,15,"head"],[45,21,40,19],[45,22,40,20,"appendChild"],[45,33,40,31],[45,34,40,32,"s"],[45,35,40,33],[45,36,40,34],[46,6,41,4],[46,7,41,5],[46,8,41,6],[47,6,43,4],[47,12,43,10,"initDetector"],[47,24,43,22],[47,27,43,25],[47,33,43,25,"initDetector"],[47,34,43,25],[47,39,43,37],[48,8,44,6],[48,12,44,10],[49,10,45,8],[50,10,46,8],[51,10,47,8],[51,14,47,12],[51,28,47,26],[51,32,47,30,"window"],[51,38,47,36],[51,40,47,38],[52,12,48,10],[53,12,49,10,"detectorRef"],[53,23,49,21],[53,24,49,22,"current"],[53,31,49,29],[53,34,49,32],[53,38,49,37,"window"],[53,44,49,43],[53,45,49,52,"FaceDetector"],[53,57,49,64],[53,58,49,65],[54,14,49,67,"fastMode"],[54,22,49,75],[54,24,49,77],[54,28,49,81],[55,14,49,83,"maxDetectedFaces"],[55,30,49,99],[55,32,49,101],[56,12,49,104],[56,13,49,105],[56,14,49,106],[57,12,50,10,"isMediapipeRef"],[57,26,50,24],[57,27,50,25,"current"],[57,34,50,32],[57,37,50,35],[57,42,50,40],[58,12,51,10],[59,10,52,8],[60,10,53,8],[61,10,54,8],[61,16,54,14,"loadScript"],[61,26,54,24],[61,27,54,25],[61,105,54,103],[61,106,54,104],[62,10,55,8],[63,10,56,8],[63,16,56,14,"tv"],[63,18,56,16],[63,21,56,20,"window"],[63,27,56,34],[64,10,57,8],[64,14,57,12,"tv"],[64,16,57,14],[64,20,57,18,"tv"],[64,22,57,20],[64,23,57,21,"FilesetResolver"],[64,38,57,36],[64,42,57,40,"tv"],[64,44,57,42],[64,45,57,43,"FaceDetector"],[64,57,57,55],[64,59,57,57],[65,12,58,10],[66,12,59,10],[66,18,59,16,"vision"],[66,24,59,22],[66,27,59,25],[66,33,59,31,"tv"],[66,35,59,33],[66,36,59,34,"FilesetResolver"],[66,51,59,49],[66,52,59,50,"forVisionTasks"],[66,66,59,64],[66,67,59,65],[66,133,59,131],[66,134,59,132],[67,12,60,10],[68,12,61,10,"detectorRef"],[68,23,61,21],[68,24,61,22,"current"],[68,31,61,29],[68,34,61,32],[68,40,61,38,"tv"],[68,42,61,40],[68,43,61,41,"FaceDetector"],[68,55,61,53],[68,56,61,54,"createFromOptions"],[68,73,61,71],[68,74,61,72,"vision"],[68,80,61,78],[68,82,61,80],[69,14,62,12,"baseOptions"],[69,25,62,23],[69,27,62,25],[70,16,63,14],[71,16,64,14,"modelAssetPath"],[71,30,64,28],[71,32,64,30],[72,14,65,12],[72,15,65,13],[73,14,66,12,"runningMode"],[73,25,66,23],[73,27,66,25],[74,12,67,10],[74,13,67,11],[74,14,67,12],[75,12,68,10,"mpRef"],[75,17,68,15],[75,18,68,16,"current"],[75,25,68,23],[75,28,68,26,"tv"],[75,30,68,28],[76,12,69,10,"isMediapipeRef"],[76,26,69,24],[76,27,69,25,"current"],[76,34,69,32],[76,37,69,35],[76,41,69,39],[77,12,70,10,"console"],[77,19,70,17],[77,20,70,18,"log"],[77,23,70,21],[77,24,70,22],[77,73,70,71],[77,74,70,72],[78,10,71,8],[78,11,71,9],[78,17,71,15],[79,12,72,10,"console"],[79,19,72,17],[79,20,72,18,"warn"],[79,24,72,22],[79,25,72,23],[79,92,72,90],[79,93,72,91],[80,10,73,8],[81,8,74,6],[81,9,74,7],[81,10,74,8],[81,17,74,15,"e"],[81,18,74,16],[81,20,74,18],[82,10,75,8,"console"],[82,17,75,15],[82,18,75,16,"warn"],[82,22,75,20],[82,23,75,21],[82,63,75,61],[82,65,75,63,"e"],[82,66,75,64],[82,67,75,65],[83,8,76,6],[84,6,77,4],[84,7,77,5],[85,6,79,4],[85,12,79,10,"expandBox"],[85,21,79,19],[85,24,79,23,"box"],[85,27,79,43],[85,31,79,48],[86,8,80,6],[86,14,80,12,"cx"],[86,16,80,14],[86,19,80,17,"box"],[86,22,80,20],[86,23,80,21,"x"],[86,24,80,22],[86,27,80,25,"box"],[86,30,80,28],[86,31,80,29,"width"],[86,36,80,34],[86,39,80,37],[86,40,80,38],[87,8,81,6],[87,14,81,12,"cy"],[87,16,81,14],[87,19,81,17,"box"],[87,22,81,20],[87,23,81,21,"y"],[87,24,81,22],[87,27,81,25,"box"],[87,30,81,28],[87,31,81,29,"height"],[87,37,81,35],[87,40,81,38],[87,41,81,39],[88,8,82,6],[88,14,82,12,"w"],[88,15,82,13],[88,18,82,16,"box"],[88,21,82,19],[88,22,82,20,"width"],[88,27,82,25],[88,30,82,28],[88,34,82,32],[89,8,83,6],[89,14,83,12,"h"],[89,15,83,13],[89,18,83,16,"box"],[89,21,83,19],[89,22,83,20,"height"],[89,28,83,26],[89,31,83,29],[89,34,83,32],[90,8,84,6],[90,15,84,13],[91,10,84,15,"x"],[91,11,84,16],[91,13,84,18,"cx"],[91,15,84,20],[91,18,84,23,"w"],[91,19,84,24],[91,22,84,27],[91,23,84,28],[92,10,84,30,"y"],[92,11,84,31],[92,13,84,33,"cy"],[92,15,84,35],[92,18,84,38,"h"],[92,19,84,39],[92,22,84,42],[92,23,84,43],[93,10,84,45,"width"],[93,15,84,50],[93,17,84,52,"w"],[93,18,84,53],[94,10,84,55,"height"],[94,16,84,61],[94,18,84,63,"h"],[95,8,84,65],[95,9,84,66],[96,6,85,4],[96,7,85,5],[97,6,87,4],[97,12,87,10,"loop"],[97,16,87,14],[97,19,87,17],[97,25,87,17,"loop"],[97,26,87,17],[97,31,87,29],[98,8,88,6],[98,12,88,10],[98,13,88,11,"running"],[98,20,88,18],[98,22,88,20],[99,8,89,6,"rafRef"],[99,14,89,12],[99,15,89,13,"current"],[99,22,89,20],[99,25,89,23,"requestAnimationFrame"],[99,46,89,44],[99,47,89,45,"loop"],[99,51,89,49],[99,52,89,50],[100,8,91,6],[100,12,91,10],[100,13,91,11,"detectorRef"],[100,24,91,22],[100,25,91,23,"current"],[100,32,91,30],[100,34,91,32],[101,8,93,6],[101,12,93,10],[102,10,94,8],[102,14,94,12,"faces"],[102,19,94,24],[102,22,94,27],[102,24,94,29],[103,10,95,8],[103,14,95,12,"isMediapipeRef"],[103,28,95,26],[103,29,95,27,"current"],[103,36,95,34],[103,38,95,36],[104,12,96,10],[105,12,97,10],[105,18,97,16,"res"],[105,21,97,19],[105,24,97,22],[105,30,97,28,"detectorRef"],[105,41,97,39],[105,42,97,40,"current"],[105,49,97,47],[105,50,97,48,"detectForVideo"],[105,64,97,62],[105,65,97,63,"video"],[105,70,97,68],[105,72,97,70,"performance"],[105,83,97,81],[105,84,97,82,"now"],[105,87,97,85],[105,88,97,86],[105,89,97,87],[105,90,97,88],[106,12,98,10,"faces"],[106,17,98,15],[106,20,98,18],[106,21,98,19,"res"],[106,24,98,22],[106,26,98,24,"detections"],[106,36,98,34],[106,40,98,38],[106,42,98,40],[106,44,98,42,"map"],[106,47,98,45],[106,48,98,47,"d"],[106,49,98,53],[106,53,98,58],[107,14,99,12],[107,20,99,18,"box"],[107,23,99,21],[107,26,99,24,"d"],[107,27,99,25],[107,28,99,26,"boundingBox"],[107,39,99,37],[107,43,99,41,"d"],[107,44,99,42],[107,45,99,43,"box"],[107,48,99,46],[107,52,99,50,"d"],[107,53,99,51],[107,54,99,52],[107,55,99,53],[108,14,100,12],[108,21,100,19],[109,16,100,21,"boundingBox"],[109,27,100,32],[109,29,100,34],[110,18,100,36,"x"],[110,19,100,37],[110,21,100,39,"box"],[110,24,100,42],[110,25,100,43,"originX"],[110,32,100,50],[110,36,100,54,"box"],[110,39,100,57],[110,40,100,58,"x"],[110,41,100,59],[110,45,100,63],[110,46,100,64],[111,18,100,66,"y"],[111,19,100,67],[111,21,100,69,"box"],[111,24,100,72],[111,25,100,73,"originY"],[111,32,100,80],[111,36,100,84,"box"],[111,39,100,87],[111,40,100,88,"y"],[111,41,100,89],[111,45,100,93],[111,46,100,94],[112,18,100,96,"width"],[112,23,100,101],[112,25,100,103,"box"],[112,28,100,106],[112,29,100,107,"width"],[112,34,100,112],[112,38,100,116,"box"],[112,41,100,119],[112,42,100,120,"width"],[112,47,100,125],[112,51,100,129],[112,52,100,130],[113,18,100,132,"height"],[113,24,100,138],[113,26,100,140,"box"],[113,29,100,143],[113,30,100,144,"height"],[113,36,100,150],[113,40,100,154,"box"],[113,43,100,157],[113,44,100,158,"height"],[113,50,100,164],[113,54,100,168],[114,16,100,170],[115,14,100,172],[115,15,100,173],[116,12,101,10],[116,13,101,11],[116,14,101,12],[117,10,102,8],[117,11,102,9],[117,17,102,15],[118,12,103,10,"faces"],[118,17,103,15],[118,20,103,18],[118,26,103,24,"detectorRef"],[118,37,103,35],[118,38,103,36,"current"],[118,45,103,43],[118,46,103,44,"detect"],[118,52,103,50],[118,53,103,51,"video"],[118,58,103,56],[118,59,103,57],[119,10,104,8],[121,10,106,8],[122,10,107,8,"ctx"],[122,13,107,11],[122,14,107,12,"clearRect"],[122,23,107,21],[122,24,107,22],[122,25,107,23],[122,27,107,25],[122,28,107,26],[122,30,107,28,"canvas"],[122,36,107,34],[122,37,107,35,"width"],[122,42,107,40],[122,44,107,42,"canvas"],[122,50,107,48],[122,51,107,49,"height"],[122,57,107,55],[122,58,107,56],[123,10,109,8],[123,14,109,12],[123,15,109,13,"faces"],[123,20,109,18],[123,24,109,22,"faces"],[123,29,109,27],[123,30,109,28,"length"],[123,36,109,34],[123,41,109,39],[123,42,109,40],[123,44,109,42],[125,10,111,8],[126,10,112,8],[126,16,112,14,"videoW"],[126,22,112,20],[126,25,112,23,"video"],[126,30,112,28],[126,31,112,29,"videoWidth"],[126,41,112,39],[126,45,112,43,"width"],[126,50,112,48],[127,10,113,8],[127,16,113,14,"videoH"],[127,22,113,20],[127,25,113,23,"video"],[127,30,113,28],[127,31,113,29,"videoHeight"],[127,42,113,40],[127,46,113,44,"height"],[127,52,113,50],[128,10,114,8],[128,16,114,14,"scale"],[128,21,114,19],[128,24,114,22,"Math"],[128,28,114,26],[128,29,114,27,"max"],[128,32,114,30],[128,33,114,31,"width"],[128,38,114,36],[128,41,114,39,"videoW"],[128,47,114,45],[128,49,114,47,"height"],[128,55,114,53],[128,58,114,56,"videoH"],[128,64,114,62],[128,65,114,63],[129,10,115,8],[129,16,115,14,"scaledW"],[129,23,115,21],[129,26,115,24,"videoW"],[129,32,115,30],[129,35,115,33,"scale"],[129,40,115,38],[130,10,116,8],[130,16,116,14,"scaledH"],[130,23,116,21],[130,26,116,24,"videoH"],[130,32,116,30],[130,35,116,33,"scale"],[130,40,116,38],[131,10,117,8],[131,16,117,14,"offsetX"],[131,23,117,21],[131,26,117,24],[131,27,117,25,"width"],[131,32,117,30],[131,35,117,33,"scaledW"],[131,42,117,40],[131,46,117,44],[131,47,117,45],[132,10,118,8],[132,16,118,14,"offsetY"],[132,23,118,21],[132,26,118,24],[132,27,118,25,"height"],[132,33,118,31],[132,36,118,34,"scaledH"],[132,43,118,41],[132,47,118,45],[132,48,118,46],[133,10,120,8,"faces"],[133,15,120,13],[133,16,120,14,"forEach"],[133,23,120,21],[133,24,120,23,"f"],[133,25,120,29],[133,29,120,34],[134,12,121,10],[134,18,121,16,"b"],[134,19,121,17],[134,22,121,20,"expandBox"],[134,31,121,29],[134,32,121,30,"f"],[134,33,121,31],[134,34,121,32,"boundingBox"],[134,45,121,43],[134,46,121,44],[136,12,123,10],[137,12,124,10],[137,18,124,16,"x"],[137,19,124,17],[137,22,124,20,"b"],[137,23,124,21],[137,24,124,22,"x"],[137,25,124,23],[137,28,124,26,"scale"],[137,33,124,31],[137,36,124,34,"offsetX"],[137,43,124,41],[138,12,125,10],[138,18,125,16,"y"],[138,19,125,17],[138,22,125,20,"b"],[138,23,125,21],[138,24,125,22,"y"],[138,25,125,23],[138,28,125,26,"scale"],[138,33,125,31],[138,36,125,34,"offsetY"],[138,43,125,41],[139,12,126,10],[139,18,126,16,"w"],[139,19,126,17],[139,22,126,20,"b"],[139,23,126,21],[139,24,126,22,"width"],[139,29,126,27],[139,32,126,30,"scale"],[139,37,126,35],[140,12,127,10],[140,18,127,16,"h"],[140,19,127,17],[140,22,127,20,"b"],[140,23,127,21],[140,24,127,22,"height"],[140,30,127,28],[140,33,127,31,"scale"],[140,38,127,36],[142,12,129,10],[143,12,130,10,"ctx"],[143,15,130,13],[143,16,130,14,"save"],[143,20,130,18],[143,21,130,19],[143,22,130,20],[144,12,131,10,"ctx"],[144,15,131,13],[144,16,131,14,"beginPath"],[144,25,131,23],[144,26,131,24],[144,27,131,25],[145,12,132,10],[146,12,133,10,"ctx"],[146,15,133,13],[146,16,133,14,"ellipse"],[146,23,133,21],[146,24,133,22,"x"],[146,25,133,23],[146,28,133,26,"w"],[146,29,133,27],[146,32,133,30],[146,33,133,31],[146,35,133,33,"y"],[146,36,133,34],[146,39,133,37,"h"],[146,40,133,38],[146,43,133,41],[146,44,133,42],[146,46,133,44,"w"],[146,47,133,45],[146,50,133,48],[146,51,133,49],[146,53,133,51,"h"],[146,54,133,52],[146,57,133,55],[146,58,133,56],[146,60,133,58],[146,61,133,59],[146,63,133,61],[146,64,133,62],[146,66,133,64,"Math"],[146,70,133,68],[146,71,133,69,"PI"],[146,73,133,71],[146,76,133,74],[146,77,133,75],[146,78,133,76],[147,12,134,10,"ctx"],[147,15,134,13],[147,16,134,14,"clip"],[147,20,134,18],[147,21,134,19],[147,22,134,20],[148,12,135,10,"ctx"],[148,15,135,13],[148,16,135,14,"filter"],[148,22,135,20],[148,25,135,23],[148,37,135,35],[149,12,136,10],[150,12,137,10,"ctx"],[150,15,137,13],[150,16,137,14,"drawImage"],[150,25,137,23],[150,26,138,12,"video"],[150,31,138,17],[151,12,139,12],[152,12,140,12,"Math"],[152,16,140,16],[152,17,140,17,"max"],[152,20,140,20],[152,21,140,21],[152,22,140,22],[152,24,140,24,"b"],[152,25,140,25],[152,26,140,26,"x"],[152,27,140,27],[152,28,140,28],[152,30,141,12,"Math"],[152,34,141,16],[152,35,141,17,"max"],[152,38,141,20],[152,39,141,21],[152,40,141,22],[152,42,141,24,"b"],[152,43,141,25],[152,44,141,26,"y"],[152,45,141,27],[152,46,141,28],[152,48,142,12,"Math"],[152,52,142,16],[152,53,142,17,"min"],[152,56,142,20],[152,57,142,21,"videoW"],[152,63,142,27],[152,66,142,30,"b"],[152,67,142,31],[152,68,142,32,"x"],[152,69,142,33],[152,71,142,35,"b"],[152,72,142,36],[152,73,142,37,"width"],[152,78,142,42],[152,79,142,43],[152,81,143,12,"Math"],[152,85,143,16],[152,86,143,17,"min"],[152,89,143,20],[152,90,143,21,"videoH"],[152,96,143,27],[152,99,143,30,"b"],[152,100,143,31],[152,101,143,32,"y"],[152,102,143,33],[152,104,143,35,"b"],[152,105,143,36],[152,106,143,37,"height"],[152,112,143,43],[152,113,143,44],[153,12,144,12],[154,12,145,12,"x"],[154,13,145,13],[154,15,146,12,"y"],[154,16,146,13],[154,18,147,12,"w"],[154,19,147,13],[154,21,148,12,"h"],[154,22,149,10],[154,23,149,11],[155,12,150,10,"ctx"],[155,15,150,13],[155,16,150,14,"restore"],[155,23,150,21],[155,24,150,22],[155,25,150,23],[156,10,151,8],[156,11,151,9],[156,12,151,10],[157,8,152,6],[157,9,152,7],[157,10,152,8],[157,17,152,15,"e"],[157,18,152,16],[157,20,152,18],[158,10,153,8],[159,8,153,8],[160,6,155,4],[160,7,155,5],[161,6,157,4,"initDetector"],[161,18,157,16],[161,19,157,17],[161,20,157,18],[161,21,157,19,"then"],[161,25,157,23],[161,26,157,24],[161,32,157,30],[162,8,158,6,"rafRef"],[162,14,158,12],[162,15,158,13,"current"],[162,22,158,20],[162,25,158,23,"requestAnimationFrame"],[162,46,158,44],[162,47,158,45,"loop"],[162,51,158,49],[162,52,158,50],[163,6,159,4],[163,7,159,5],[163,8,159,6],[164,6,161,4],[164,13,161,11],[164,19,161,17],[165,8,162,6,"running"],[165,15,162,13],[165,18,162,16],[165,23,162,21],[166,8,163,6],[166,12,163,10,"rafRef"],[166,18,163,16],[166,19,163,17,"current"],[166,26,163,24],[166,28,163,26,"cancelAnimationFrame"],[166,48,163,46],[166,49,163,47,"rafRef"],[166,55,163,53],[166,56,163,54,"current"],[166,63,163,61],[166,64,163,62],[167,6,164,4],[167,7,164,5],[168,4,165,2],[168,5,165,3],[168,7,165,5],[168,8,165,6,"containerId"],[168,19,165,17],[168,21,165,19,"width"],[168,26,165,24],[168,28,165,26,"height"],[168,34,165,32],[168,35,165,33],[168,36,165,34],[169,4,167,2],[169,24,168,4],[169,28,168,4,"_jsxDevRuntime"],[169,42,168,4],[169,43,168,4,"jsxDEV"],[169,49,168,4],[170,6,169,6,"ref"],[170,9,169,9],[170,11,169,11,"canvasRef"],[170,20,169,21],[171,6,170,6,"style"],[171,11,170,11],[171,13,170,13],[172,8,170,15,"position"],[172,16,170,23],[172,18,170,25],[172,28,170,35],[173,8,170,37,"left"],[173,12,170,41],[173,14,170,43],[173,15,170,44],[174,8,170,46,"top"],[174,11,170,49],[174,13,170,51],[174,14,170,52],[175,8,170,54,"width"],[175,13,170,59],[176,8,170,61,"height"],[176,14,170,67],[177,8,170,69,"pointerEvents"],[177,21,170,82],[177,23,170,84],[178,6,170,91],[179,4,170,93],[180,6,170,93,"fileName"],[180,14,170,93],[180,16,170,93,"_jsxFileName"],[180,28,170,93],[181,6,170,93,"lineNumber"],[181,16,170,93],[182,6,170,93,"columnNumber"],[182,18,170,93],[183,4,170,93],[183,11,171,5],[183,12,171,6],[184,2,173,0],[185,2,173,1,"_s"],[185,4,173,1],[185,5,12,24,"LiveFaceCanvas"],[185,19,12,38],[186,2,12,38,"_c"],[186,4,12,38],[186,7,12,24,"LiveFaceCanvas"],[186,21,12,38],[187,2,12,38],[187,6,12,38,"_c"],[187,8,12,38],[188,2,12,38,"$RefreshReg$"],[188,14,12,38],[188,15,12,38,"_c"],[188,17,12,38],[189,0,12,38],[189,3]],"functionMap":{"names":["<global>","LiveFaceCanvas","useEffect$argument_0","loadScript","Promise$argument_0","s.onload","s.onerror","initDetector","expandBox","loop","map$argument_0","faces.forEach$argument_0","initDetector.then$argument_0","<anonymous>"],"mappings":"AAA;eCW;YCO;uBCkB,mCC;8CCE,eD,cE,6CF;KDE,CD;yBKE;KLkC;sBME;KNM;iBOE;8CCW;WDG;sBEmB;SF+B;KPI;wBUE;KVE;WWE;KXG;GDC;CDQ"}},"type":"js/module"}]}