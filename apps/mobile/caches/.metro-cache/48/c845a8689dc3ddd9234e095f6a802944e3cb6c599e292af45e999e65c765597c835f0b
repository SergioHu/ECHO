{"dependencies":[{"name":"./ImageManipulator.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":11,"column":34,"index":170}}],"key":"T6y/NYMlBGi0asFDc4kC629pCOk=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.validateActions = validateActions;\n  exports.validateArguments = validateArguments;\n  exports.validateSaveOptions = validateSaveOptions;\n  exports.validateUri = validateUri;\n  var _ImageManipulator = require(_dependencyMap[0], \"./ImageManipulator.types\");\n  function validateArguments(uri, actions, saveOptions) {\n    validateUri(uri);\n    validateActions(actions);\n    validateSaveOptions(saveOptions);\n  }\n  function validateUri(uri) {\n    if (!(typeof uri === 'string')) {\n      throw new TypeError('The \"uri\" argument must be a string');\n    }\n  }\n  function validateActions(actions) {\n    if (!Array.isArray(actions)) {\n      throw new TypeError('The \"actions\" argument must be an array');\n    }\n    for (const action of actions) {\n      if (typeof action !== 'object' || action === null) {\n        throw new TypeError('Action must be an object');\n      }\n      const supportedActionTypes = ['crop', 'extent', 'flip', 'rotate', 'resize'];\n      const actionKeys = Object.keys(action);\n      if (actionKeys.length !== 1) {\n        throw new TypeError(`Single action must contain exactly one transformation: ${supportedActionTypes.join(', ')}`);\n      }\n      const actionType = actionKeys[0];\n      if (!supportedActionTypes.includes(actionType)) {\n        throw new TypeError(`Unsupported action type: ${actionType}`);\n      }\n      if (actionType === 'crop') {\n        validateCropAction(action);\n      } else if (actionType === 'extent') {\n        validateExtentAction(action);\n      } else if (actionType === 'flip') {\n        validateFlipAction(action);\n      } else if (actionType === 'rotate') {\n        validateRotateAction(action);\n      } else if (actionType === 'resize') {\n        validateResizeAction(action);\n      }\n    }\n  }\n  function validateCropAction(action) {\n    const isValid = typeof action.crop === 'object' && action.crop !== null && typeof action.crop.originX === 'number' && typeof action.crop.originY === 'number' && typeof action.crop.width === 'number' && typeof action.crop.height === 'number';\n    if (!isValid) {\n      throw new TypeError('Crop action must be an object of shape { originX: number; originY: number; width: number; height: number }');\n    }\n  }\n  function validateExtentAction(action) {\n    const isValid = typeof action.extent === 'object' && action.extent !== null && (action.extent.backgroundColor == null || typeof action.extent.backgroundColor === 'string') && (action.extent.originX == null || typeof action.extent.originX === 'number') && (action.extent.originY == null || typeof action.extent.originY === 'number') && typeof action.extent.width === 'number' && typeof action.extent.height === 'number';\n    if (!isValid) {\n      throw new TypeError('Extent action must be an object of shape { backgroundColor?: string; originX?: number; originY?: number; width: number; height: number }');\n    }\n  }\n  function validateFlipAction(action) {\n    if (typeof action.flip !== 'string' || ![_ImageManipulator.FlipType.Horizontal, _ImageManipulator.FlipType.Vertical].includes(action.flip)) {\n      throw new TypeError(`Unsupported flip type: ${action.flip}`);\n    }\n  }\n  function validateRotateAction(action) {\n    if (typeof action.rotate !== 'number') {\n      throw new TypeError('Rotation must be a number');\n    }\n  }\n  function validateResizeAction(action) {\n    const isValid = typeof action.resize === 'object' && action.resize !== null && (typeof action.resize.width === 'number' || typeof action.resize.width === 'undefined') && (typeof action.resize.height === 'number' || typeof action.resize.height === 'undefined');\n    if (!isValid) {\n      throw new TypeError('Resize action must be an object of shape { width?: number; height?: number }');\n    }\n  }\n  function validateSaveOptions({\n    base64,\n    compress,\n    format\n  }) {\n    if (base64 !== undefined && typeof base64 !== 'boolean') {\n      throw new TypeError('The \"base64\" argument must be a boolean');\n    }\n    if (compress !== undefined) {\n      if (typeof compress !== 'number') {\n        throw new TypeError('The \"compress\" argument must be a number');\n      }\n      if (compress < 0 || compress > 1) {\n        throw new TypeError('The \"compress\" argument must be a number between 0 and 1');\n      }\n    }\n    const allowedFormats = [_ImageManipulator.SaveFormat.JPEG, _ImageManipulator.SaveFormat.PNG, _ImageManipulator.SaveFormat.WEBP];\n    if (format !== undefined && !allowedFormats.includes(format)) {\n      throw new TypeError(`The \"format\" argument must be one of: ${allowedFormats.join(', ')}`);\n    }\n  }\n});","lineCount":99,"map":[[9,2,1,0],[9,6,1,0,"_ImageManipulator"],[9,23,1,0],[9,26,1,0,"require"],[9,33,1,0],[9,34,1,0,"_dependencyMap"],[9,48,1,0],[10,2,13,7],[10,11,13,16,"validateArguments"],[10,28,13,33,"validateArguments"],[10,29,13,34,"uri"],[10,32,13,45],[10,34,13,47,"actions"],[10,41,13,64],[10,43,13,66,"saveOptions"],[10,54,13,90],[10,56,13,92],[11,4,14,2,"validateUri"],[11,15,14,13],[11,16,14,14,"uri"],[11,19,14,17],[11,20,14,18],[12,4,15,2,"validateActions"],[12,19,15,17],[12,20,15,18,"actions"],[12,27,15,25],[12,28,15,26],[13,4,16,2,"validateSaveOptions"],[13,23,16,21],[13,24,16,22,"saveOptions"],[13,35,16,33],[13,36,16,34],[14,2,17,0],[15,2,19,7],[15,11,19,16,"validateUri"],[15,22,19,27,"validateUri"],[15,23,19,28,"uri"],[15,26,19,39],[15,28,19,47],[16,4,20,2],[16,8,20,6],[16,10,20,8],[16,17,20,15,"uri"],[16,20,20,18],[16,25,20,23],[16,33,20,31],[16,34,20,32],[16,36,20,34],[17,6,21,4],[17,12,21,10],[17,16,21,14,"TypeError"],[17,25,21,23],[17,26,21,24],[17,63,21,61],[17,64,21,62],[18,4,22,2],[19,2,23,0],[20,2,25,7],[20,11,25,16,"validateActions"],[20,26,25,31,"validateActions"],[20,27,25,32,"actions"],[20,34,25,49],[20,36,25,57],[21,4,26,2],[21,8,26,6],[21,9,26,7,"Array"],[21,14,26,12],[21,15,26,13,"isArray"],[21,22,26,20],[21,23,26,21,"actions"],[21,30,26,28],[21,31,26,29],[21,33,26,31],[22,6,27,4],[22,12,27,10],[22,16,27,14,"TypeError"],[22,25,27,23],[22,26,27,24],[22,67,27,65],[22,68,27,66],[23,4,28,2],[24,4,29,2],[24,9,29,7],[24,15,29,13,"action"],[24,21,29,19],[24,25,29,23,"actions"],[24,32,29,30],[24,34,29,32],[25,6,30,4],[25,10,30,8],[25,17,30,15,"action"],[25,23,30,21],[25,28,30,26],[25,36,30,34],[25,40,30,38,"action"],[25,46,30,44],[25,51,30,49],[25,55,30,53],[25,57,30,55],[26,8,31,6],[26,14,31,12],[26,18,31,16,"TypeError"],[26,27,31,25],[26,28,31,26],[26,54,31,52],[26,55,31,53],[27,6,32,4],[28,6,33,4],[28,12,33,10,"supportedActionTypes"],[28,32,33,30],[28,35,33,33],[28,36,33,34],[28,42,33,40],[28,44,33,42],[28,52,33,50],[28,54,33,52],[28,60,33,58],[28,62,33,60],[28,70,33,68],[28,72,33,70],[28,80,33,78],[28,81,33,79],[29,6,34,4],[29,12,34,10,"actionKeys"],[29,22,34,20],[29,25,34,23,"Object"],[29,31,34,29],[29,32,34,30,"keys"],[29,36,34,34],[29,37,34,35,"action"],[29,43,34,41],[29,44,34,42],[30,6,35,4],[30,10,35,8,"actionKeys"],[30,20,35,18],[30,21,35,19,"length"],[30,27,35,25],[30,32,35,30],[30,33,35,31],[30,35,35,33],[31,8,36,6],[31,14,36,12],[31,18,36,16,"TypeError"],[31,27,36,25],[31,28,37,8],[31,86,37,66,"supportedActionTypes"],[31,106,37,86],[31,107,37,87,"join"],[31,111,37,91],[31,112,37,92],[31,116,37,96],[31,117,37,97],[31,119,38,6],[31,120,38,7],[32,6,39,4],[33,6,40,4],[33,12,40,10,"actionType"],[33,22,40,20],[33,25,40,23,"actionKeys"],[33,35,40,33],[33,36,40,34],[33,37,40,35],[33,38,40,36],[34,6,41,4],[34,10,41,8],[34,11,41,9,"supportedActionTypes"],[34,31,41,29],[34,32,41,30,"includes"],[34,40,41,38],[34,41,41,39,"actionType"],[34,51,41,49],[34,52,41,50],[34,54,41,52],[35,8,42,6],[35,14,42,12],[35,18,42,16,"TypeError"],[35,27,42,25],[35,28,42,26],[35,56,42,54,"actionType"],[35,66,42,64],[35,68,42,66],[35,69,42,67],[36,6,43,4],[37,6,45,4],[37,10,45,8,"actionType"],[37,20,45,18],[37,25,45,23],[37,31,45,29],[37,33,45,31],[38,8,46,6,"validateCropAction"],[38,26,46,24],[38,27,46,25,"action"],[38,33,46,45],[38,34,46,46],[39,6,47,4],[39,7,47,5],[39,13,47,11],[39,17,47,15,"actionType"],[39,27,47,25],[39,32,47,30],[39,40,47,38],[39,42,47,40],[40,8,48,6,"validateExtentAction"],[40,28,48,26],[40,29,48,27,"action"],[40,35,48,49],[40,36,48,50],[41,6,49,4],[41,7,49,5],[41,13,49,11],[41,17,49,15,"actionType"],[41,27,49,25],[41,32,49,30],[41,38,49,36],[41,40,49,38],[42,8,50,6,"validateFlipAction"],[42,26,50,24],[42,27,50,25,"action"],[42,33,50,45],[42,34,50,46],[43,6,51,4],[43,7,51,5],[43,13,51,11],[43,17,51,15,"actionType"],[43,27,51,25],[43,32,51,30],[43,40,51,38],[43,42,51,40],[44,8,52,6,"validateRotateAction"],[44,28,52,26],[44,29,52,27,"action"],[44,35,52,49],[44,36,52,50],[45,6,53,4],[45,7,53,5],[45,13,53,11],[45,17,53,15,"actionType"],[45,27,53,25],[45,32,53,30],[45,40,53,38],[45,42,53,40],[46,8,54,6,"validateResizeAction"],[46,28,54,26],[46,29,54,27,"action"],[46,35,54,49],[46,36,54,50],[47,6,55,4],[48,4,56,2],[49,2,57,0],[50,2,59,0],[50,11,59,9,"validateCropAction"],[50,29,59,27,"validateCropAction"],[50,30,59,28,"action"],[50,36,59,46],[50,38,59,54],[51,4,60,2],[51,10,60,8,"isValid"],[51,17,60,15],[51,20,61,4],[51,27,61,11,"action"],[51,33,61,17],[51,34,61,18,"crop"],[51,38,61,22],[51,43,61,27],[51,51,61,35],[51,55,62,4,"action"],[51,61,62,10],[51,62,62,11,"crop"],[51,66,62,15],[51,71,62,20],[51,75,62,24],[51,79,63,4],[51,86,63,11,"action"],[51,92,63,17],[51,93,63,18,"crop"],[51,97,63,22],[51,98,63,23,"originX"],[51,105,63,30],[51,110,63,35],[51,118,63,43],[51,122,64,4],[51,129,64,11,"action"],[51,135,64,17],[51,136,64,18,"crop"],[51,140,64,22],[51,141,64,23,"originY"],[51,148,64,30],[51,153,64,35],[51,161,64,43],[51,165,65,4],[51,172,65,11,"action"],[51,178,65,17],[51,179,65,18,"crop"],[51,183,65,22],[51,184,65,23,"width"],[51,189,65,28],[51,194,65,33],[51,202,65,41],[51,206,66,4],[51,213,66,11,"action"],[51,219,66,17],[51,220,66,18,"crop"],[51,224,66,22],[51,225,66,23,"height"],[51,231,66,29],[51,236,66,34],[51,244,66,42],[52,4,67,2],[52,8,67,6],[52,9,67,7,"isValid"],[52,16,67,14],[52,18,67,16],[53,6,68,4],[53,12,68,10],[53,16,68,14,"TypeError"],[53,25,68,23],[53,26,69,6],[53,134,70,4],[53,135,70,5],[54,4,71,2],[55,2,72,0],[56,2,74,0],[56,11,74,9,"validateExtentAction"],[56,31,74,29,"validateExtentAction"],[56,32,74,30,"action"],[56,38,74,50],[56,40,74,58],[57,4,75,2],[57,10,75,8,"isValid"],[57,17,75,15],[57,20,76,4],[57,27,76,11,"action"],[57,33,76,17],[57,34,76,18,"extent"],[57,40,76,24],[57,45,76,29],[57,53,76,37],[57,57,77,4,"action"],[57,63,77,10],[57,64,77,11,"extent"],[57,70,77,17],[57,75,77,22],[57,79,77,26],[57,84,78,5,"action"],[57,90,78,11],[57,91,78,12,"extent"],[57,97,78,18],[57,98,78,19,"backgroundColor"],[57,113,78,34],[57,117,78,38],[57,121,78,42],[57,125,78,46],[57,132,78,53,"action"],[57,138,78,59],[57,139,78,60,"extent"],[57,145,78,66],[57,146,78,67,"backgroundColor"],[57,161,78,82],[57,166,78,87],[57,174,78,95],[57,175,78,96],[57,180,79,5,"action"],[57,186,79,11],[57,187,79,12,"extent"],[57,193,79,18],[57,194,79,19,"originX"],[57,201,79,26],[57,205,79,30],[57,209,79,34],[57,213,79,38],[57,220,79,45,"action"],[57,226,79,51],[57,227,79,52,"extent"],[57,233,79,58],[57,234,79,59,"originX"],[57,241,79,66],[57,246,79,71],[57,254,79,79],[57,255,79,80],[57,260,80,5,"action"],[57,266,80,11],[57,267,80,12,"extent"],[57,273,80,18],[57,274,80,19,"originY"],[57,281,80,26],[57,285,80,30],[57,289,80,34],[57,293,80,38],[57,300,80,45,"action"],[57,306,80,51],[57,307,80,52,"extent"],[57,313,80,58],[57,314,80,59,"originY"],[57,321,80,66],[57,326,80,71],[57,334,80,79],[57,335,80,80],[57,339,81,4],[57,346,81,11,"action"],[57,352,81,17],[57,353,81,18,"extent"],[57,359,81,24],[57,360,81,25,"width"],[57,365,81,30],[57,370,81,35],[57,378,81,43],[57,382,82,4],[57,389,82,11,"action"],[57,395,82,17],[57,396,82,18,"extent"],[57,402,82,24],[57,403,82,25,"height"],[57,409,82,31],[57,414,82,36],[57,422,82,44],[58,4,83,2],[58,8,83,6],[58,9,83,7,"isValid"],[58,16,83,14],[58,18,83,16],[59,6,84,4],[59,12,84,10],[59,16,84,14,"TypeError"],[59,25,84,23],[59,26,85,6],[59,164,86,4],[59,165,86,5],[60,4,87,2],[61,2,88,0],[62,2,90,0],[62,11,90,9,"validateFlipAction"],[62,29,90,27,"validateFlipAction"],[62,30,90,28,"action"],[62,36,90,46],[62,38,90,54],[63,4,91,2],[63,8,92,4],[63,15,92,11,"action"],[63,21,92,17],[63,22,92,18,"flip"],[63,26,92,22],[63,31,92,27],[63,39,92,35],[63,43,93,4],[63,44,93,5],[63,45,93,6,"FlipType"],[63,71,93,14],[63,72,93,15,"Horizontal"],[63,82,93,25],[63,84,93,27,"FlipType"],[63,110,93,35],[63,111,93,36,"Vertical"],[63,119,93,44],[63,120,93,45],[63,121,93,46,"includes"],[63,129,93,54],[63,130,93,55,"action"],[63,136,93,61],[63,137,93,62,"flip"],[63,141,93,66],[63,142,93,67],[63,144,94,4],[64,6,95,4],[64,12,95,10],[64,16,95,14,"TypeError"],[64,25,95,23],[64,26,95,24],[64,52,95,50,"action"],[64,58,95,56],[64,59,95,57,"flip"],[64,63,95,61],[64,65,95,63],[64,66,95,64],[65,4,96,2],[66,2,97,0],[67,2,99,0],[67,11,99,9,"validateRotateAction"],[67,31,99,29,"validateRotateAction"],[67,32,99,30,"action"],[67,38,99,50],[67,40,99,58],[68,4,100,2],[68,8,100,6],[68,15,100,13,"action"],[68,21,100,19],[68,22,100,20,"rotate"],[68,28,100,26],[68,33,100,31],[68,41,100,39],[68,43,100,41],[69,6,101,4],[69,12,101,10],[69,16,101,14,"TypeError"],[69,25,101,23],[69,26,101,24],[69,53,101,51],[69,54,101,52],[70,4,102,2],[71,2,103,0],[72,2,105,0],[72,11,105,9,"validateResizeAction"],[72,31,105,29,"validateResizeAction"],[72,32,105,30,"action"],[72,38,105,50],[72,40,105,58],[73,4,106,2],[73,10,106,8,"isValid"],[73,17,106,15],[73,20,107,4],[73,27,107,11,"action"],[73,33,107,17],[73,34,107,18,"resize"],[73,40,107,24],[73,45,107,29],[73,53,107,37],[73,57,108,4,"action"],[73,63,108,10],[73,64,108,11,"resize"],[73,70,108,17],[73,75,108,22],[73,79,108,26],[73,84,109,5],[73,91,109,12,"action"],[73,97,109,18],[73,98,109,19,"resize"],[73,104,109,25],[73,105,109,26,"width"],[73,110,109,31],[73,115,109,36],[73,123,109,44],[73,127,109,48],[73,134,109,55,"action"],[73,140,109,61],[73,141,109,62,"resize"],[73,147,109,68],[73,148,109,69,"width"],[73,153,109,74],[73,158,109,79],[73,169,109,90],[73,170,109,91],[73,175,110,5],[73,182,110,12,"action"],[73,188,110,18],[73,189,110,19,"resize"],[73,195,110,25],[73,196,110,26,"height"],[73,202,110,32],[73,207,110,37],[73,215,110,45],[73,219,110,49],[73,226,110,56,"action"],[73,232,110,62],[73,233,110,63,"resize"],[73,239,110,69],[73,240,110,70,"height"],[73,246,110,76],[73,251,110,81],[73,262,110,92],[73,263,110,93],[74,4,111,2],[74,8,111,6],[74,9,111,7,"isValid"],[74,16,111,14],[74,18,111,16],[75,6,112,4],[75,12,112,10],[75,16,112,14,"TypeError"],[75,25,112,23],[75,26,113,6],[75,104,114,4],[75,105,114,5],[76,4,115,2],[77,2,116,0],[78,2,118,7],[78,11,118,16,"validateSaveOptions"],[78,30,118,35,"validateSaveOptions"],[78,31,118,36],[79,4,118,38,"base64"],[79,10,118,44],[80,4,118,46,"compress"],[80,12,118,54],[81,4,118,56,"format"],[82,2,118,76],[82,3,118,77],[82,5,118,85],[83,4,119,2],[83,8,119,6,"base64"],[83,14,119,12],[83,19,119,17,"undefined"],[83,28,119,26],[83,32,119,30],[83,39,119,37,"base64"],[83,45,119,43],[83,50,119,48],[83,59,119,57],[83,61,119,59],[84,6,120,4],[84,12,120,10],[84,16,120,14,"TypeError"],[84,25,120,23],[84,26,120,24],[84,67,120,65],[84,68,120,66],[85,4,121,2],[86,4,122,2],[86,8,122,6,"compress"],[86,16,122,14],[86,21,122,19,"undefined"],[86,30,122,28],[86,32,122,30],[87,6,123,4],[87,10,123,8],[87,17,123,15,"compress"],[87,25,123,23],[87,30,123,28],[87,38,123,36],[87,40,123,38],[88,8,124,6],[88,14,124,12],[88,18,124,16,"TypeError"],[88,27,124,25],[88,28,124,26],[88,70,124,68],[88,71,124,69],[89,6,125,4],[90,6,126,4],[90,10,126,8,"compress"],[90,18,126,16],[90,21,126,19],[90,22,126,20],[90,26,126,24,"compress"],[90,34,126,32],[90,37,126,35],[90,38,126,36],[90,40,126,38],[91,8,127,6],[91,14,127,12],[91,18,127,16,"TypeError"],[91,27,127,25],[91,28,127,26],[91,86,127,84],[91,87,127,85],[92,6,128,4],[93,4,129,2],[94,4,130,2],[94,10,130,8,"allowedFormats"],[94,24,130,22],[94,27,130,25],[94,28,130,26,"SaveFormat"],[94,56,130,36],[94,57,130,37,"JPEG"],[94,61,130,41],[94,63,130,43,"SaveFormat"],[94,91,130,53],[94,92,130,54,"PNG"],[94,95,130,57],[94,97,130,59,"SaveFormat"],[94,125,130,69],[94,126,130,70,"WEBP"],[94,130,130,74],[94,131,130,75],[95,4,131,2],[95,8,131,6,"format"],[95,14,131,12],[95,19,131,17,"undefined"],[95,28,131,26],[95,32,131,30],[95,33,131,31,"allowedFormats"],[95,47,131,45],[95,48,131,46,"includes"],[95,56,131,54],[95,57,131,55,"format"],[95,63,131,61],[95,64,131,62],[95,66,131,64],[96,6,132,4],[96,12,132,10],[96,16,132,14,"TypeError"],[96,25,132,23],[96,26,132,24],[96,67,132,65,"allowedFormats"],[96,81,132,79],[96,82,132,80,"join"],[96,86,132,84],[96,87,132,85],[96,91,132,89],[96,92,132,90],[96,94,132,92],[96,95,132,93],[97,4,133,2],[98,2,134,0],[99,0,134,1],[99,3]],"functionMap":{"names":["<global>","validateArguments","validateUri","validateActions","validateCropAction","validateExtentAction","validateFlipAction","validateRotateAction","validateResizeAction","validateSaveOptions"],"mappings":"AAA;OCY;CDI;OEE;CFI;OGE;CHgC;AIE;CJa;AKE;CLc;AME;CNO;AOE;CPI;AQE;CRW;OSE;CTgB"}},"type":"js/module"}]}